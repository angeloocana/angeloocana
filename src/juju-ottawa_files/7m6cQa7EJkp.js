if (self.CavalryLogger) { CavalryLogger.start_js(["KGAck"]); }

__d("CommercialBreakMobileEvent",[],(function a(b,c,d,e,f,g){f.exports={SUBSCRIPTION_SUCCESS:"commercial_break_skywalker_subscription_success",SUBSCRIPTION_FAILURE:"commercial_break_skywalker_subscription_failure",RECEIVE_INTENT_MSG:"commercial_break_skywalker_receive_intent",RECEIVE_START_MSG:"commercial_break_skywalker_receive_start",RECEIVE_INVALID_MSG:"commercial_break_skywalker_receive_invalid_message",VIDEO_FETCH_SUCCESS:"commercial_break_video_fetch_success",VIDEO_FETCH_FAILURE:"commercial_break_video_fetch_failure",COMMERCIAL_BREAK_INLINE_TO_FULLSCREEN:"commercial_break_inline_to_fullscreen",COMMERCIAL_BREAK_FULLSCREEN_TO_INLINE:"commercial_break_fullscreen_to_inline",COMMERCIAL_BREAK_SCROLLED_AWAY:"commercial_break_scrolled_away",COMMERCIAL_BREAK_SCROLLED_INTO:"commercial_break_scrolled_into",COMMERCIAL_BREAK_START_NFX:"commercial_break_start_nfx",COMMERCIAL_BREAK_HIDE_AD:"commercial_break_hide_ad",COMMERCIAL_BREAK_HIDE_AD_BREAKS:"commercial_break_hide_ad_breaks",COMMERCIAL_BREAK_START:"commercial_break_start",COMMERCIAL_BREAK_START_AD:"commercial_break_start_ad",COMMERCIAL_BREAK_TRANSIT:"commercial_break_transit",COMMERCIAL_BREAK_WAIT_FOR:"commercial_break_wait_for",COMMERCIAL_BREAK_STATIC_COUNTDOWN:"commercial_break_static_countdown",COMMERCIAL_BREAK_END:"commercial_break_end",COMMERCIAL_BREAK_PAUSE_AD:"commercial_break_pause_ad",COMMERCIAL_BREAK_PLAY_AD:"commercial_break_play_ad",COMMERCIAL_BREAK_NO_AD_TRANSITION:"commercial_break_no_ad_transition",COMMERCIAL_BREAK_ELIGIBLE_VOD_START:"commercial_break_eligible_vod_start",COMMERCIAL_BREAK_START_SHOW_NOTHING:"commercial_break_start_show_nothing",COMMERCIAL_BREAK_STARTING_INDICATOR:"commercial_break_starting_indicator",COMMERCIAL_BREAK_START_TIME_DELTA:"commercial_break_start_time_delta",COMMERCIAL_BREAK_IMPRESSION_ATTEMPT:"commercial_break_impression_attempt",COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT:"commercial_break_skywalker_received_duplicate_event",COMMERCIAL_BREAK_ADS_LOADED:"commercial_break_ads_loaded",COMMERCIAL_BREAK_FIRE_EVENT_IN_TRACKER:"commercial_break_fire_event_in_tracker",COMMERCIAL_BREAK_LOG_IMPRESSION_IN_TRACKER:"commercial_break_log_impression_in_tracker",COMMERCIAL_BREAK_REGISTER_VIDEO:"commercial_break_register_video",COMMERCIAL_BREAK_RESUME_HOST_VIDEO:"commercial_break_resume_host_video",COMMERCIAL_BREAK_CLICK_ON_STARTING_INDICATOR:"commercial_break_click_on_starting_indicator",COMMERCIAL_BREAK_PLUGIN_IS_ON_DIFFERENT_HOSTVIDEO:"commercial_break_plugin_is_on_different_hostvideo"};}),null);
__d("FullViewType",[],(function a(b,c,d,e,f,g){f.exports={ENTIRE_UNIT:1};}),null);
__d("VisibilityUnitType",[],(function a(b,c,d,e,f,g){f.exports={FEED_UNIT:"feed_unit",VIEWPORT:"viewport"};}),null);
__d("GamesGogglesSwitch",[],(function a(b,c,d,e,f,g){var h=false,i={enable:function j(){h=true;},isEnabled:function j(){return h;}};f.exports=i;}),null);
__d('VisibilityTrackingHelper',['Arbiter','DesktopHscrollUnitEventConstants','getViewportDimensions','Event'],(function a(b,c,d,e,f,g){var h={getEventListeners:function i(j){return [c('Event').listen(document,'DOMContentLoaded',j),c('Event').listen(window,'scroll',j),c('Event').listen(window,'resize',j),c('Arbiter').subscribe(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT,j)];},getViewportInfo:function i(){return c('getViewportDimensions')();}};f.exports=h;}),null);
__d('VisibilityTracking',['Banzai','BrowseClientEventLogger','CommercialBreakMobileEvent','DataAttributeUtils','ErrorUtils','MarauderLogger','ScriptPath','SubscriptionsHandler','Visibility','VisibilityTrackingHelper','collectDataAttributes','getElementPosition','pageID','throttle'],(function a(b,c,d,e,f,g){var h='visibility_tracking',i='[data-vistracking]',j=500,k=50,l=50,m=50,n=50,o=0;function p(q){'use strict';q=q||{};if(!q.bypass_banzai_check&&!c('Banzai').isEnabled(h))return;this.visibleElementInfo={};this.getDataFromConfig(q);c('Visibility').addListener(c('Visibility').VISIBLE,c('ErrorUtils').guard(function(){return this.fireEvent('browser');}.bind(this),'VisibilityTracking:visible',this));c('Visibility').addListener(c('Visibility').HIDDEN,c('ErrorUtils').guard(function(){return this.clearAllVisibleElements('browser');}.bind(this),'VisibilityTracking:hidden',this));c('ScriptPath').subscribe(c('ErrorUtils').guard(function(){return this.updateVisibleElements();}.bind(this),'VisibilityTracking:scriptPath',this));c('Banzai').subscribe(c('Banzai').SHUTDOWN,c('ErrorUtils').guard(function(){return this.onUnload();}.bind(this),'VisibilityTracking:banzaiShutdown',this));this.fireEventCallback=c('throttle').acrossTransitions(c('ErrorUtils').guard(function(event){return this.fireEvent(event);}.bind(this),'VisibilityTracking:fireEventCallback',this),this.timeout,this);this.listeners=new (c('SubscriptionsHandler'))();c('VisibilityTrackingHelper').getEventListeners(function(){return this.fireEventCallback();}.bind(this)).forEach(function(r){this.listeners.addSubscriptions(r);},this);if(this.extraInit)c('ErrorUtils').applyWithGuard(this.extraInit.bind(this));}p.prototype.getDataFromConfig=function(q){'use strict';this.config=q;this.root=q.root||document.documentElement;this.selector=q.selector||i;this.timeout=typeof q.timeout!=='undefined'?q.timeout:j;this.minOffsetVisibleFromBottom=typeof q.minOffsetVisibleFromBottom!=='undefined'?q.minOffsetVisibleFromBottom:k;this.minOffsetVisibleFromTop=typeof q.minOffsetVisibleFromTop!=='undefined'?q.minOffsetVisibleFromTop:l;this.minOffsetVisibleFromLeft=typeof q.minOffsetVisibleFromLeft!=='undefined'?q.minOffsetVisibleFromLeft:m;this.minOffsetVisibleFromRight=typeof q.minOffsetVisibleFromRight!=='undefined'?q.minOffsetVisibleFromRight:n;this.handleAllHiddenEvents=typeof q.handleAllHiddenEvents!=='undefined'?q.handleAllHiddenEvents:false;this.handleAllVisibleEvents=typeof q.handleAllVisibleEvents!=='undefined'?q.handleAllVisibleEvents:false;this.cacheTrackedElements=typeof q.cacheTrackedElements!=='undefined'?q.cacheTrackedElements:false;};p.prototype.getAllTrackedElements=function(){'use strict';if(!this.allTrackedElements){this.allTrackedElements={};var q=[];if(this.config.is_xtrackable){q=c('DataAttributeUtils').getXTrackableElements();}else if(this.root.querySelectorAll)q=this.root.querySelectorAll(this.selector);for(var r=0;r<q.length;r++){var s=this.getElementID(q[r]);this.allTrackedElements[s]=q[r];}}return this.allTrackedElements;};p.prototype.refreshAllTrackedElements=function(){'use strict';delete this.allTrackedElements;return this.getAllTrackedElements();};p.prototype.getDataToLog=function(q){'use strict';var r=Object.assign(c('collectDataAttributes')(q,['gt']).gt,{client_time:Date.now()/1000,time_spent_id:c('pageID'),script_path:c('ScriptPath').getScriptPath()});return r;};p.prototype.getElementID=function(q){'use strict';var r=q.$VisibilityTracking1;if(r)return r;q.$VisibilityTracking1=++o;return o;};p.prototype.sendDataToLog=function(q){'use strict';c('BrowseClientEventLogger').maybeLogVisiblityEvent(q);c('Banzai').post(h,q);};p.prototype.handleInstreamLoggingEvent=function(q){'use strict';c('MarauderLogger').log(c('CommercialBreakMobileEvent').COMMERCIAL_BREAK_LOG_IMPRESSION_IN_TRACKER,'commercial_break');var r=this.getImpressionTracking(q);if(!r)return;r.logInstreamAdImpression();return;};p.prototype.isInstreamAdStoryElement=function(q){'use strict';return false;};p.prototype.fireEvent=function(){var q=arguments.length<=0||arguments[0]===undefined?'default':arguments[0];'use strict';if(q==='CommercialBreak/AdsLoaded')c('MarauderLogger').log(c('CommercialBreakMobileEvent').COMMERCIAL_BREAK_FIRE_EVENT_IN_TRACKER,'commercial_break');var r=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var s in r){var t=r[s],u=c('VisibilityTrackingHelper').getViewportInfo(),v=this.isVisible(t,u);if(q==='CommercialBreak/AdsLoaded'&&this.config.forceInstreamLoggingOnPlay&&this.isInstreamAdStoryElement(t)){this.handleInstreamLoggingEvent(t);}else if(!v&&(s in this.visibleElementInfo||this.handleAllHiddenEvents)){this.handleEvent(t,{name:'hidden',cause:q});}else if(v&&(!(s in this.visibleElementInfo)||this.handleAllVisibleEvents))this.handleEvent(t,{name:'visible',cause:q});}this.clearUntrackedVisibleElements();};p.prototype.isVisible=function(q,r){'use strict';var s=c('getElementPosition')(q);return (s.x||s.y||s.width||s.height)&&s.y+s.height>=this.minOffsetVisibleFromTop&&s.y<=r.height-this.minOffsetVisibleFromBottom&&s.x+s.width>=this.minOffsetVisibleFromLeft&&s.x<=r.width-this.minOffsetVisibleFromRight;};p.prototype.handleEvent=function(q,event){'use strict';var r=this.getElementID(q),s=this.getDataToLog(q),t=void 0;if(event.name==='visible'){var u=Math.floor(Date.now()/1000);t=c('pageID').concat(':',u.toString(),':',this.getElementID(q).toString());this.visibleElementInfo[r]={visibility_id:t,elem:q};}else if(event.name==='hidden'){if(r in this.visibleElementInfo){t=this.visibleElementInfo[r].visibility_id;delete this.visibleElementInfo[r];}if(event.cause==='browser')return;}this.sendDataToLog(Object.assign(s,{event:event.name,visibility_id:t}));};p.prototype.clearUntrackedVisibleElements=function(){'use strict';var q=this.getAllTrackedElements();for(var r in this.visibleElementInfo)if(!(r in q)){var s=this.visibleElementInfo[r];if(s.elem)this.handleEvent(s.elem,{name:'hidden',cause:'removed'});}};p.prototype.clearAllVisibleElements=function(){var q=arguments.length<=0||arguments[0]===undefined?'default':arguments[0];'use strict';var r=this.getAllTrackedElements();for(var s in r)if(s in this.visibleElementInfo)this.handleEvent(r[s],{name:'hidden',cause:q});this.clearUntrackedVisibleElements();};p.prototype.updateVisibleElements=function(){'use strict';this.clearAllVisibleElements();this.fireEvent();};p.prototype.refreshAndFireEvent=function(event){'use strict';this.refreshAllTrackedElements();if(event==='CommercialBreak/AdsLoaded'&&this.config.forceInstreamLoggingOnPlay){this.fireEvent(event);return;}this.fireEventCallback(event);};p.prototype.onUnload=function(){'use strict';this.clearAllVisibleElements();if(this.listeners){this.listeners.release();this.listeners=null;}if(this.extraCleanup)c('ErrorUtils').applyWithGuard(this.extraCleanup.bind(this));};p.init=function(q){'use strict';return new p(q);};f.exports=p;}),null);
__d('GamesImpressionTracker',['cx','Arbiter','Banzai','Event','GamesGogglesSwitch','VisibilityTracking','throttle'],(function a(b,c,d,e,f,g,h){var i,j,k='data-gamesegoimp',l='data-gamesrankedimp',m=1000;function n(s){if(c('GamesGogglesSwitch').isEnabled())s.className=s.className+' '+"_1z5y";}function o(s){return function(){if(s){s();s=null;}};}i=babelHelpers.inherits(p,c('VisibilityTracking'));j=i&&i.prototype;p.prototype.handleEvent=function(s,event){'use strict';if(event.name==='visible'){var t=s.getAttribute(l);s.removeAttribute(l);if(t){n(s);t&&c('Banzai').post('games_ranked_imp',{data:t});}c('Event').listen(s,'mouseover',o(function(){c('Banzai').post('games_mouseover',{data:t});c('Event').listen(s,'mouseout',o(function(){c('Banzai').post('games_mouseout',{data:t});}));}));}};function p(){'use strict';i.apply(this,arguments);}var q=new p({selector:'[data-gamesrankedimp]',handleAllVisibleEvents:true,cacheTrackedElements:true}),r=c('throttle').acrossTransitions(function(){return q.fireEventCallback();},m,null);q.listeners.addSubscriptions(c('Event').listen(document,'mousemove',r),c('Event').listen(document,'click',r),c('Arbiter').subscribe('games_unit_loaded',function(){return q.refreshAllTrackedElements();}));}),null);
__d('ViewableImpressionUtils',['csx','cx','CSS'],(function a(b,c,d,e,f,g,h,i){var j={isHorizontallyOffscreen:function k(l,m,n){var o=Math.max(m.x,0),p=Math.min(m.x+m.width,n.width);return p-o<m.width||c('CSS').matchesSelector(l,".desktop_hscroll_offscreen");}};f.exports=j;}),null);
__d('FullViewLogger',['Banzai','ScriptPath','SubscriptionsHandler','URI'],(function a(b,c,d,e,f,g){h.logFromViewableImpressionTracker=function(i){'use strict';var j=new h();j.subscribeToTrackerEvents(i);};h.prototype.subscribeToTrackerEvents=function(i){'use strict';this.subscriptionsHandler=new (c('SubscriptionsHandler'))();this.subscriptionsHandler.addSubscriptions(i.addListener('full_view',this.onFullView,this));};h.prototype.onFullView=function(i){'use strict';if(this.$FullViewLogger1())this.$FullViewLogger2(i);var j={token:i.token,fullViewType:i.fullViewType,scriptPath:c('ScriptPath').getTopViewEndpoint()};c('Banzai').post('xtrackable:full_view',j);if(this.$FullViewLogger1())this.$FullViewLogger3(j);};h.prototype.$FullViewLogger1=function(){'use strict';return 0;};h.prototype.$FullViewLogger2=function(i){'use strict';};h.prototype.$FullViewLogger3=function(i){'use strict';};function h(){'use strict';}f.exports=h;}),null);
__d("PercentVisible",[],(function a(b,c,d,e,f,g){f.exports={NO_VISIBLE:-1,VISIBLE_0_PCT:0,VISIBLE_50_PCT:50,VISIBLE_100_PCT:100};}),null);
__d('VisibilityState',[],(function a(b,c,d,e,f,g){'use strict';f.exports={TOP:'TOP',BOTTOM:'BOTTOM',FULL:'FULL',NULL:'NULL'};}),null);
__d('ViewableImpressionTracker',['AdImpressionLoggingConfig','Banzai','BrowseClientEventLogger','CommercialBreakMobileEvent','DataAttributeUtils','DOM','FullViewType','MarauderLogger','NonBlockingIFrame','PercentVisible','Style','URI','ViewableImpressionUtils','Visibility','VisibilityState','WebSpeedJSExperiments','ge','getElementPosition','getViewportDimensions','mixInEventEmitter'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.id=i;this.element=j;this.config=k;this.iframe=null;this.viewableTimeout=null;this.clearSubsequentTimeout=null;this.waitForSubsequent=false;this.waitForLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.iframeLogged=false;this.banzaiLogged=false;this.topLeftInViewport=false;this.bottomRightInViewport=false;}h.prototype.getID=function(){'use strict';return this.id;};h.prototype.getConfig=function(){'use strict';return this.config;};h.prototype.getPercentInViewport=function(){'use strict';var i=c('getViewportDimensions')(),j=c('getElementPosition')(this.element);return this.$ViewableImpressionTracker1(i,j);};h.prototype.$ViewableImpressionTracker2=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?0:arguments[2];'use strict';if(j.x<i.width&&j.x+j.width>0&&j.y<i.height&&j.y+j.height>k&&c('Style').get(this.element,'visibility')!=='hidden'&&c('Style').get(this.element,'opacity')!=='0'){var l=Math.max(j.x,0),m=Math.min(j.x+j.width,i.width),n=Math.max(j.y,k),o=Math.min(j.y+j.height,i.height);if(j.height*j.width===0)return 100;var p=100*(m-l)*(o-n)/(j.height*j.width);return p;}return 0;};h.prototype.$ViewableImpressionTracker1=function(i,j){'use strict';if(this.config.require_horizontally_onscreen&&c('ViewableImpressionUtils').isHorizontallyOffscreen(this.element,j,i))return 0;return this.$ViewableImpressionTracker2(i,j);};h.prototype.$ViewableImpressionTracker3=function(i,j,k){'use strict';var l=this.$ViewableImpressionTracker2(i,j,k);if(l===0){return c('PercentVisible').NO_VISIBLE;}else if(l<50){return c('PercentVisible').VISIBLE_0_PCT;}else if(l<100){return c('PercentVisible').VISIBLE_50_PCT;}else return c('PercentVisible').VISIBLE_100_PCT;};h.prototype.$ViewableImpressionTracker4=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?0:arguments[2];'use strict';var l=Math.max(j.y,k),m=Math.min(j.y+j.height,i.height),n=100*(m-l)/(i.height-k);if(n<50){return c('PercentVisible').VISIBLE_0_PCT;}else if(n<100){return c('PercentVisible').VISIBLE_50_PCT;}else return c('PercentVisible').VISIBLE_100_PCT;};h.prototype.$ViewableImpressionTracker5=function(i,j){'use strict';var k=0,l=c('ge')('pagelet_bluebar');if(l&&l.offsetHeight)k=l.offsetHeight+l.offsetTop;if(this.config.should_log_viewport_duration){var m=this.$ViewableImpressionTracker4(i,j,k);switch(m){case c('PercentVisible').VISIBLE_0_PCT:case c('PercentVisible').VISIBLE_50_PCT:case c('PercentVisible').VISIBLE_100_PCT:this.emit('viewport_viewability',{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:m});break;default:break;}}var n=this.$ViewableImpressionTracker3(i,j,k);switch(n){case c('PercentVisible').VISIBLE_0_PCT:case c('PercentVisible').VISIBLE_50_PCT:case c('PercentVisible').VISIBLE_100_PCT:this.emit('viewability',{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:n});break;default:this.emit('hidden',{id:this.getID(),token:this.getToken()});break;}};h.prototype.$ViewableImpressionTracker6=function(i,j){'use strict';if(c('Style').get(this.element,'visibility')==='hidden'||c('Style').get(this.element,'opacity')==='0')return false;var k=j.x,l=j.y,m=j.x+j.width,n=j.y+j.height;this.topLeftInViewport=this.topLeftInViewport||k>=0&&k<=i.width&&l>=0&&l<=i.height;this.bottomRightInViewport=this.bottomRightInViewport||m>=0&&m<=i.width&&n>=0&&n<=i.height;return this.topLeftInViewport&&this.bottomRightInViewport;};h.prototype.$ViewableImpressionTracker7=function(i,j){'use strict';if(this.hasEmittedFullViewEvent)return;if(this.$ViewableImpressionTracker6(i,j)){this.emit('full_view',{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:c('FullViewType').ENTIRE_UNIT});this.hasEmittedFullViewEvent=true;}};h.prototype.$ViewableImpressionTracker8=function(i,j){'use strict';var k=j.y,l=j.y+j.height,m=k>=0&&k<=i.height,n=l>=0&&l<=i.height,o=void 0;if(m&&n){o=c('VisibilityState').FULL;}else if(m){o=c('VisibilityState').TOP;}else if(n){o=c('VisibilityState').BOTTOM;}else o=c('VisibilityState').NULL;this.emit('viewability_debug',{tracker:this,id:this.getID(),token:this.getToken(),visibleState:o});};h.prototype.$ViewableImpressionTracker9=function(event){'use strict';return !!event&&!!this.config.is_instream_story&&event.cause!=='CommercialBreak/AdsLoaded';};h.prototype.logInstreamAdImpression=function(){'use strict';c('MarauderLogger').log(c('CommercialBreakMobileEvent').COMMERCIAL_BREAK_IMPRESSION_ATTEMPT,'commercial_break',{is_instream_story:this.config.is_instream_story,force_log_on_play:this.config.forceInstreamLoggingOnPlay,is_logged:this.isLogged(),commercial_break_ad_client_token:this.getToken()});if(!this.config.is_instream_story||!this.config.forceInstreamLoggingOnPlay)return;this.logImpression(1,{});this.reset();};h.prototype.onVisible=function(event){'use strict';this.isVisible=true;var i=c('getViewportDimensions')(),j=c('getElementPosition')(this.element),k=this.$ViewableImpressionTracker1(i,j),l=k>this.config.pixel_in_percentage;this.emit('visible',{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:k});if(this.config.should_log_viewability_duration)this.$ViewableImpressionTracker5(i,j);if(this.config.should_log_debug_duration)this.$ViewableImpressionTracker8(i,j);this.$ViewableImpressionTracker7(i,j);if(!l){this.$ViewableImpressionTracker10();return;}if(this.isLogged()){this.$ViewableImpressionTracker11();}else this.$ViewableImpressionTracker12();if(!this.waitForLogged&&!this.isLogged()&&!(c('AdImpressionLoggingConfig').blockInvisible&&c('Visibility').isHidden())){this.waitForLogged=true;this.viewableTimeout=setTimeout(function(){this.waitForLogged=false;if(c('AdImpressionLoggingConfig').blockInvisible&&c('Visibility').isHidden())return;var m=this.getPercentInViewport(),n=m>this.config.pixel_in_percentage;if(!n){this.$ViewableImpressionTracker13();return;}if(!this.$ViewableImpressionTracker9(event))this.logImpression(1,{});this.$ViewableImpressionTracker11();}.bind(this),this.config.duration_in_ms);}};h.prototype.onHidden=function(){'use strict';this.emit('hidden',{id:this.getID(),token:this.getToken()});if(this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged){this.logNonViewableImpression();}else if(!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible)this.logNonViewableImpression();this.isVisible=false;if(this.waitForLogged){this.waitForLogged=false;clearTimeout(this.viewableTimeout);}if(this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0){this.waitForSubsequent=true;this.clearSubsequentTimeout=setTimeout(function(){this.waitForSubsequent=false;this.reset();if(this.isVisible)this.onVisible();}.bind(this),this.config.subsequent_gap_in_ms);}this.$ViewableImpressionTracker13();};h.prototype.onRemoved=function(){'use strict';this.isVisible=false;};h.prototype.getToken=function(){'use strict';return c('DataAttributeUtils').getDataAttribute(this.element,'data-xt');};h.prototype.logImpression=function(i,j){'use strict';if(this.isLogged())return;var k=this.getToken(),l=Math.floor(Date.now()/1000),m={xt:k,isv:i,cts:l};if(c('Banzai').isEnabled('xtrackable_clientview_batch')&&this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){var n=this.config.vital_mode_for_ss?c('Banzai').VITAL:{};n.signal=this.config.signal_mode_for_ss;this.logWithBanzai(m,n);}else this.logWithIFrame(Object.assign(m,j));};h.prototype.logNonViewableImpression=function(){'use strict';if(this.config.nonviewableEnabled){var i=this.getToken();c('Banzai').post('xtrackable:nonviewable',{xt:i});}this.isNonViewableLogged=true;};h.prototype.isLogged=function(){'use strict';return this.iframeLogged||this.banzaiLogged;};h.prototype.reset=function(){'use strict';if(this.iframeLogged)this.iframeLogged=false;if(this.iframe){c('DOM').remove(this.iframe);this.iframe=null;}if(this.banzaiLogged)this.banzaiLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.waitForLogged=false;this.waitForSubsequent=false;};h.prototype.logWithBanzai=function(i,j){'use strict';this.banzaiLogged=true;c('BrowseClientEventLogger').maybeLogClientViewEvent(i);c('Banzai').post('xtrackable:clientview_batch',i,j);};h.prototype.logWithIFrame=function(i){'use strict';this.iframeLogged=true;if(c('WebSpeedJSExperiments').non_blocking_tracker||this.config.is_instream_story){c('NonBlockingIFrame').loadIFrame(new (c('URI'))(this.config.impressionURL).addQueryData(i).toString());}else{this.iframe=c('DOM').create('iframe',{src:new (c('URI'))(this.config.impressionURL).addQueryData(i),width:0,height:0,frameborder:0,scrolling:'no',className:'fbEmuTracking'});this.iframe.setAttribute('aria-hidden','true');c('DOM').appendContent(this.element,this.iframe);}};h.prototype.$ViewableImpressionTracker14=function(){'use strict';return 0;};h.prototype.$ViewableImpressionTracker10=function(){'use strict';if(this.$ViewableImpressionTracker14()){c('Style').set(this.element,'background-color','#abab9a');c('Style').set(this.element,'outline','3px solid #abab9a');}};h.prototype.$ViewableImpressionTracker12=function(){'use strict';if(this.$ViewableImpressionTracker14()){c('Style').set(this.element,'background-color','#e4f70a');c('Style').set(this.element,'outline','3px solid #e4f70a');}};h.prototype.$ViewableImpressionTracker13=function(){'use strict';if(this.$ViewableImpressionTracker14()){c('Style').set(this.element,'background-color',null);c('Style').set(this.element,'outline',null);}};h.prototype.$ViewableImpressionTracker11=function(){'use strict';if(this.$ViewableImpressionTracker14()){c('Style').set(this.element,'background-color','#047515');c('Style').set(this.element,'outline','3px solid #047515');}};c('mixInEventEmitter')(h,{visible:true,hidden:true,full_view:true,viewability:true,viewport_viewability:true,viewability_debug:true});f.exports=h;}),null);
__d('ViewabilityDebugLogger',['Banzai','Map','ViewableImpressionTracker','VisibilityState','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({top_enter_viewport:null,top_exit_viewport:null,bottom_enter_viewport:null,bottom_exit_viewport:null});i.logFromViewableImpressionTracker=function(j){var k=new i();k.subscribeToTrackerEvents(j);};function i(){this.$ViewabilityDebugLogger1=new (c('Map'))();this.$ViewabilityDebugLogger2=new (c('Map'))();this.$ViewabilityDebugLogger3=new (c('Map'))();}i.prototype.subscribeToTrackerEvents=function(j){j.addListener('viewability_debug',this.onView.bind(this));j.addListener('hidden',this.onHidden.bind(this));};i.prototype.onView=function(event){var j=event.id,k=event.visibleState,l=Date.now(),m=this.$ViewabilityDebugLogger1.get(j),n=this.$ViewabilityDebugLogger2.get(j);switch(k){case c('VisibilityState').TOP:if(!this.$ViewabilityDebugLogger1.has(j))this.$ViewabilityDebugLogger4(event,l,c('VisibilityState').TOP);if(n){var o={token:n.token,start_ts:n.start_ts,event_type:h.bottom_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(o,j,c('VisibilityState').BOTTOM);}break;case c('VisibilityState').FULL:if(!this.$ViewabilityDebugLogger3.has(j))this.$ViewabilityDebugLogger4(event,l,c('VisibilityState').FULL);break;case c('VisibilityState').BOTTOM:if(!this.$ViewabilityDebugLogger2.has(j))this.$ViewabilityDebugLogger4(event,l,c('VisibilityState').BOTTOM);if(m){var p={token:m.token,start_ts:m.start_ts,event_type:h.top_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(p,j,c('VisibilityState').TOP);}break;case c('VisibilityState').NULL:if(m){var q={token:m.token,start_ts:m.start_ts,event_type:h.top_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(q,j,c('VisibilityState').TOP);}if(n){var r={token:n.token,start_ts:n.start_ts,event_type:h.bottom_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(r,j,c('VisibilityState').BOTTOM);}}};i.prototype.onHidden=function(event){var j=event.id,k=Date.now(),l=this.$ViewabilityDebugLogger1.get(j),m=this.$ViewabilityDebugLogger2.get(j);if(l){var n={token:l.token,start_ts:l.start_ts,event_type:h.top_exit_viewport,event_time:k};this.$ViewabilityDebugLogger5(n,j,c('VisibilityState').TOP);}if(m){var o={token:m.token,start_ts:m.start_ts,event_type:h.bottom_exit_viewport,event_time:k};this.$ViewabilityDebugLogger5(o,j,c('VisibilityState').BOTTOM);}};i.prototype.$ViewabilityDebugLogger4=function(event,j,k){var l={token:event.token,start_ts:j,event_time:j};switch(k){case c('VisibilityState').TOP:l.event_type=h.top_enter_viewport;this.$ViewabilityDebugLogger1.set(event.id,l);this.$ViewabilityDebugLogger6(l);break;case c('VisibilityState').BOTTOM:l.event_type=h.bottom_enter_viewport;this.$ViewabilityDebugLogger2.set(event.id,l);this.$ViewabilityDebugLogger6(l);break;case c('VisibilityState').FULL:this.$ViewabilityDebugLogger3.set(event.id,l);if(!this.$ViewabilityDebugLogger1.has(event.id)){var m={token:l.token,start_ts:j,event_time:j,event_type:h.top_enter_viewport};this.$ViewabilityDebugLogger1.set(event.id,m);this.$ViewabilityDebugLogger6(m);}if(!this.$ViewabilityDebugLogger2.has(event.id)){var n={token:l.token,start_ts:j,event_time:j,event_type:h.bottom_enter_viewport};this.$ViewabilityDebugLogger2.set(event.id,n);this.$ViewabilityDebugLogger6(n);}break;}};i.prototype.$ViewabilityDebugLogger6=function(j){c('Banzai').post('xtrackable:viewability_debug',j);};i.prototype.$ViewabilityDebugLogger5=function(j,k,l){c('Banzai').post('xtrackable:viewability_debug',j);switch(l){case c('VisibilityState').BOTTOM:this.$ViewabilityDebugLogger2['delete'](k);break;case c('VisibilityState').TOP:this.$ViewabilityDebugLogger1['delete'](k);break;}this.$ViewabilityDebugLogger3['delete'](k);};f.exports=i;}),null);
__d('ViewabilityDurationSegmentLogger',['Banzai','Map','PercentVisible','ViewableImpressionTracker','VisibilityUnitType'],(function a(b,c,d,e,f,g){'use strict';var h=8000;i.logFromViewableImpressionTracker=function(j){var k=new i();k.subscribeToTrackerEvents(j);};function i(){this.$ViewabilityDurationSegmentLogger1=new (c('Map'))();this.$ViewabilityDurationSegmentLogger2=new (c('Map'))();this.$ViewabilityDurationSegmentLogger3=new (c('Map'))();this.$ViewabilityDurationSegmentLogger4=new (c('Map'))();this.$ViewabilityDurationSegmentLogger5=new (c('Map'))();}i.prototype.subscribeToTrackerEvents=function(j){j.addListener('viewability',this.onViewable.bind(this));j.addListener('viewport_viewability',this.onViewport.bind(this));j.addListener('hidden',this.onHidden.bind(this));};i.prototype.onViewable=function(event){var j=event.id,k=event.percentVisible,l=Date.now(),m=void 0,n=void 0;switch(k){case c('PercentVisible').VISIBLE_0_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_0_PCT,l,c('VisibilityUnitType').FEED_UNIT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j);}m=this.$ViewabilityDurationSegmentLogger4.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j);}break;case c('PercentVisible').VISIBLE_50_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_0_PCT,l,c('VisibilityUnitType').FEED_UNIT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_50_PCT,l,c('VisibilityUnitType').FEED_UNIT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger4.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j);}break;case c('PercentVisible').VISIBLE_100_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_0_PCT,l,c('VisibilityUnitType').FEED_UNIT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_50_PCT,l,c('VisibilityUnitType').FEED_UNIT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger4.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_100_PCT,l,c('VisibilityUnitType').FEED_UNIT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);break;}};i.prototype.onViewport=function(event){var j=event.id,k=event.percentVisible,l=Date.now(),m=void 0,n=void 0;switch(k){case c('PercentVisible').VISIBLE_0_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j);}m=this.$ViewabilityDurationSegmentLogger5.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j);}break;case c('PercentVisible').VISIBLE_50_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_50_PCT,l,c('VisibilityUnitType').VIEWPORT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger5.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j);}break;case c('PercentVisible').VISIBLE_100_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_50_PCT,l,c('VisibilityUnitType').VIEWPORT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger5.get(j);if(!m){this.$ViewabilityDurationSegmentLogger6(event,c('PercentVisible').VISIBLE_100_PCT,l,c('VisibilityUnitType').VIEWPORT);}else this.$ViewabilityDurationSegmentLogger7(m,j,l);break;}};i.prototype.onHidden=function(event){var j=event.id,k=Date.now(),l=this.$ViewabilityDurationSegmentLogger1.get(j),m=this.$ViewabilityDurationSegmentLogger2.get(j),n=this.$ViewabilityDurationSegmentLogger3.get(j),o=this.$ViewabilityDurationSegmentLogger4.get(j),p=this.$ViewabilityDurationSegmentLogger5.get(j);if(l)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(l,j,k,true),j);if(m)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(m,j,k,true),j);if(n)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(n,j,k,true),j);if(o)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(o,j,k,true),j);if(p)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(p,j,k,true),j);};i.prototype.$ViewabilityDurationSegmentLogger6=function(event,j,k,l){var m={token:event.token,startedTrackingTS:k,percentVisible:j,visibilityUnit:l,intervalMs:0,cumulativeMs:0,segmentIdx:0};switch(j){case c('PercentVisible').VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1.set(event.id,m);break;case c('PercentVisible').VISIBLE_50_PCT:if(l===c('VisibilityUnitType').FEED_UNIT){this.$ViewabilityDurationSegmentLogger2.set(event.id,m);}else this.$ViewabilityDurationSegmentLogger3.set(event.id,m);break;case c('PercentVisible').VISIBLE_100_PCT:if(l===c('VisibilityUnitType').FEED_UNIT){this.$ViewabilityDurationSegmentLogger4.set(event.id,m);}else this.$ViewabilityDurationSegmentLogger5.set(event.id,m);break;}};i.prototype.$ViewabilityDurationSegmentLogger8=function(j,k,l,m){var n=l-j.startedTrackingTS,o=n-j.cumulativeMs,p=j.percentVisible,q={token:j.token,startedTrackingTS:j.startedTrackingTS,percentVisible:p,visibilityUnit:j.visibilityUnit,intervalMs:o,cumulativeMs:n,segmentIdx:++j.segmentIdx};if(m)q.duration=n;switch(p){case c('PercentVisible').VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1.set(k,q);break;case c('PercentVisible').VISIBLE_50_PCT:if(j.visibilityUnit===c('VisibilityUnitType').FEED_UNIT){this.$ViewabilityDurationSegmentLogger2.set(k,q);}else this.$ViewabilityDurationSegmentLogger3.set(k,q);break;case c('PercentVisible').VISIBLE_100_PCT:if(j.visibilityUnit===c('VisibilityUnitType').FEED_UNIT){this.$ViewabilityDurationSegmentLogger4.set(k,q);}else this.$ViewabilityDurationSegmentLogger5.set(k,q);break;}return q;};i.prototype.$ViewabilityDurationSegmentLogger7=function(j,k,l){var m=j.intervalMs,n=l-j.startedTrackingTS-j.cumulativeMs;if(this.$ViewabilityDurationSegmentLogger10(m,n)){var o=this.$ViewabilityDurationSegmentLogger8(j,k,l,false);c('Banzai').post('xtrackable:viewability',o,c('Banzai').VITAL);}};i.prototype.$ViewabilityDurationSegmentLogger10=function(j,k){if(j>=h)return false;if(j==0)return true;if(j<1000)return k>=1000;var l=0;l=j/1000;var m=k/1000;return m>=2*l;};i.prototype.$ViewabilityDurationSegmentLogger9=function(j,k){var l=j.percentVisible;switch(l){case c('PercentVisible').VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1['delete'](k);break;case c('PercentVisible').VISIBLE_50_PCT:if(j.visibilityUnit===c('VisibilityUnitType').FEED_UNIT){this.$ViewabilityDurationSegmentLogger2['delete'](k);}else this.$ViewabilityDurationSegmentLogger3['delete'](k);break;case c('PercentVisible').VISIBLE_100_PCT:if(j.visibilityUnit===c('VisibilityUnitType').FEED_UNIT){this.$ViewabilityDurationSegmentLogger4['delete'](k);}else this.$ViewabilityDurationSegmentLogger5['delete'](k);break;}c('Banzai').post('xtrackable:viewability',j,c('Banzai').VITAL);};f.exports=i;}),null);
__d('ViewableImpressionDurationLogger',['Banzai','Map'],(function a(b,c,d,e,f,g){'use strict';h.logFromViewableImpressionTracker=function(i){var j=new h();j.subscribeToTrackerEvents(i);};function h(){this.$ViewableImpressionDurationLogger1=new (c('Map'))();}h.prototype.subscribeToTrackerEvents=function(i){i.addListener('visible',this.onElementVisible.bind(this));i.addListener('hidden',this.onElementHidden.bind(this));};h.prototype.onElementVisible=function(event){if(this.$ViewableImpressionDurationLogger1.get(event.id))return null;var i={token:event.token,startedTrackingTS:this.getTimeNow()};this.$ViewableImpressionDurationLogger1.set(event.id,i);return i;};h.prototype.onElementHidden=function(event){var i=this.$ViewableImpressionDurationLogger1.get(event.id);if(!i)return false;i.trackingDuration=this.getTimeNow()-i.startedTrackingTS;return this.sendLog(event.id);};h.prototype.sendLog=function(i){var j=this.$ViewableImpressionDurationLogger1.get(i);if(!j||!j.trackingDuration)return false;c('Banzai').post('xtrackable:duration',j);this.$ViewableImpressionDurationLogger1['delete'](i);return true;};h.prototype.getTimeNow=function(){return parseFloat((Date.now()/1000).toFixed(2));};f.exports=h;}),null);
__d('ViewableImpressionHeatmapLogger',['Banzai'],(function a(b,c,d,e,f,g){h.logFromViewableImpressionTracker=function(i,j){'use strict';var k=new h(j);k.subscribeToTrackerEvents(i);};function h(i){'use strict';this.loggingDurationMS=i;this.trackingEntries={};}h.prototype.subscribeToTrackerEvents=function(i){'use strict';this.visibleSubscription=i.addListener('visible',this.onElementVisible,this);this.hiddenSubscription=i.addListener('hidden',this.onElementHidden,this);};h.prototype.onElementVisible=function(i){'use strict';var j=this.getCurrentTimestamp(),k=this.trackingEntries[i.id];if(!k){k=this.createTrackingEntry(i);this.beginTracking(i.id,k);j=k.startedTrackingTS;}k.viewportProgressEvents.push({timestamp:j,percentInViewport:i.percentInViewport.toFixed(2)});};h.prototype.onElementHidden=function(i){'use strict';var j=this.getCurrentTimestamp(),k=this.trackingEntries[i.id];if(!k)return;k.viewportProgressEvents.push({timestamp:j,percentInViewport:0});};h.prototype.onTrackingCompleted=function(i){'use strict';var j=this.trackingEntries[i];j.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:j.tracker.getPercentInViewport().toFixed(2)});if(this.$ViewableImpressionHeatmapLogger1())this.$ViewableImpressionHeatmapLogger2(i,j);this.logToServer(j);delete this.trackingEntries[i];};h.prototype.logToServer=function(i){'use strict';var j=i;delete j.tracker;c('Banzai').post('xtrackable:heatmap',j);};h.prototype.beginTracking=function(i,j){'use strict';this.trackingEntries[i]=j;setTimeout(function(){return this.onTrackingCompleted(i);}.bind(this),this.loggingDurationMS);};h.prototype.createTrackingEntry=function(i){'use strict';return {tracker:i.tracker,token:i.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]};};h.prototype.getCurrentTimestamp=function(){'use strict';return (Date.now()/1000).toFixed(2);};h.prototype.$ViewableImpressionHeatmapLogger1=function(){'use strict';return 0;};h.prototype.$ViewableImpressionHeatmapLogger2=function(i,j){'use strict';var k='Completed tracking for id '+i+' token='+j.token+' startedTrackingTS='+j.startedTrackingTS+'\n';j.viewportProgressEvents.forEach(function(l){k+='% in view: '+l.percentInViewport+' timestamp='+l.timestamp+'\n';});};f.exports=h;}),null);
__d('ViewableImpressionEventHandler',['DataAttributeUtils','FullViewLogger','ViewabilityDebugLogger','ViewabilityDurationSegmentLogger','ViewableImpressionDurationLogger','ViewableImpressionHeatmapLogger','ViewableImpressionTracker','VisibilityTracking'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=1;h=babelHelpers.inherits(k,c('VisibilityTracking'));i=h&&h.prototype;k.prototype.extraInit=function(){this.impressionTrackers={};};k.prototype.getDataFromConfig=function(l){i.getDataFromConfig.call(this,l);this.doHeatmapLogging=l.doHeatmapLogging;this.heatmapLoggingDurationMS=l.heatmapLoggingDurationMS;l.impressionURL=l.impressionURL!==undefined?l.impressionURL:'/xti.php';l.nonviewableEnabled=l.nonviewableEnabled!==undefined?l.nonviewableEnabled:false;};k.prototype.getImpressionTracking=function(l){var m=this.getElementID(l),n=this.impressionTrackers[m];if(!n){var o=babelHelpers['extends']({},this.getConfigFromElement(l),this.config);n=new (c('ViewableImpressionTracker'))(m,l,o);this.impressionTrackers[m]=n;if(o.log_impression_duration)c('ViewableImpressionDurationLogger').logFromViewableImpressionTracker(n);if(this.doHeatmapLogging)c('ViewableImpressionHeatmapLogger').logFromViewableImpressionTracker(n,this.heatmapLoggingDurationMS);if(o.should_log_full_views)c('FullViewLogger').logFromViewableImpressionTracker(n);if(o.should_log_viewability_duration)c('ViewabilityDurationSegmentLogger').logFromViewableImpressionTracker(n);if(o.should_log_debug_duration)c('ViewabilityDebugLogger').logFromViewableImpressionTracker(n);}return n;};k.prototype.handleEvent=function(l,event){var m=this.getImpressionTracking(l);if(!m)return;if(event.name==='visible'){m.onVisible(event);if(!this.visibleElementInfo[m.getID()])this.visibleElementInfo[m.getID()]={elem:l};}else if(event.name==='hidden'){var n=m.getConfig();if(event.cause==='default'||n.log_visibility_hidden_when_browser_inactive&&event.cause==='browser'){m.onHidden();delete this.visibleElementInfo[m.getID()];}else if(event.cause==='removed'){m.onRemoved();delete this.visibleElementInfo[m.getID()];delete this.impressionTrackers[m.getID()];}}};k.prototype.isInstreamAdStoryElement=function(l){var m=babelHelpers['extends']({},this.getConfigFromElement(l),this.config);return !!m.is_instream_story;};k.prototype.getConfigFromElement=function(l){return JSON.parse(c('DataAttributeUtils').getDataAttribute(l,'data-xt-vimp'));};k.prototype.getElementID=function(l){if(!l.getAttribute('id'))l.setAttribute('id','xt_uniq_'+j++);return l.getAttribute('id');};function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d('ViewableImpressionTracking',['Arbiter','DesktopHscrollUnitEventConstants','ErrorUtils','LitestandMessages','Run','ViewableImpressionEventHandler','ViewableImpressionConfig'],(function a(b,c,d,e,f,g){var h={init:function i(){if(c('ViewableImpressionEventHandler').instance===undefined){c('ViewableImpressionEventHandler').instance=new (c('ViewableImpressionEventHandler'))(c('ViewableImpressionConfig'));c('ViewableImpressionEventHandler').instance.listeners.addSubscriptions(c('Arbiter').subscribe([c('LitestandMessages').STORIES_INSERTED,'AdsRefreshHandler/AdsLoaded','MPPInsights/ChartView','PhotoSnowliftAds/displayUnits','WebMessengerAdsControl/adjustAds',c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_INSERTED_EVENT,'WebVideoChannelAds/AdsLoaded','CommercialBreak/AdsLoaded'],c('ErrorUtils').guard(function(event){c('ViewableImpressionEventHandler').instance.refreshAndFireEvent(event);},'ViewableImpressionTracking')));}c('Run').onLoad(function(){c('ViewableImpressionEventHandler').instance.refreshAndFireEvent();});}};f.exports=h;}),null);